\documentclass[a4paper, 9pt]{article}
\usepackage{../styles}
\title{\textsc{computer lab}\\ \textbf{Evolution of communication}}
\author{Evolution of Language and Music}
\date{\date{}}
\begin{document}

\maketitle
\blfootnote{%
  \emph{Last updated on \today{}.
  Written by Bastiaan van der Weij and Dieuwke Hupkes in 2016.  
  Updated by Peter Dekker (2017), Bas Cornelissen (2017, 2018) and Marianne de Heer Kloots (2018).}}

\noindent
In this lab, we will model the evolution of a
communication system. A possible way of representing a communication
system is by using matrices that describe a mapping from a set of
meanings to a set of forms (or signals). For instance, the well known
alarm call system of Vervet monkeys \cite{seyfarth1980monkey} in its
usual idealisation, can be described as follows:

\begin{align*}\footnotesize
S &=
  \left(
  \begin{array}{c|ccc}
  & \text{chirp} & \text{grunt} & \text{chutter}\\
  \hline
  \text{leopard} & 0.8 & 0.2 & 0\\
  \text{eagle} & 0.1 & 0.9 & 0\\
  \text{snake} & 0.05 & 0.1 & 0.85 \\
  \end{array}
  \right)
  \\
R &=
  \left(
  \begin{array}{c|ccc}
  & \text{leopard} & \text{eagle} & \text{snake}\\
  \hline
  \text{chirp} & 0.9 & 0 & 0.1\\
  \text{grunt} & 0 & 1 & 0\\
  \text{chutter} & 0.2 & 0 & 0.8\\
  \end{array}
  \right)
\end{align*}

The $S$ matrix represents the sender: the first column contains the
meanings (or situations) that the sender may want to express, the first
row the signals that it can use to express these meanings. The numbers
in the matrix represent the probabilities that the sender will use a
certain signal to express a certain meaning. The matrix $R$ describes
the behaviour of the receiver in a similar way: the numbers in the
matrix are the probabilities that the receiver will interpret a certain
signal (first column) as having a certain meaning (first row).

\begin{exercise}
\askstar What are the optimal $S$ and $R$, for maximal communicative success in a population?
\askstar How is ambiguity (i.e., one signal with multiple meanings) reflected in S and R matrices? And synonymity (two signals that have the same meaning).
\end{exercise}


%We can use a trick to study the evolution of communication systems in the same way we studied simulated evolution of DNA strings in the lab ``Evolution and phylogenetic reconstruction''.
%Recall that there we looked at evolving genomes consisting of four letters $A$, $G$, $C$ and $U$. 

By using a bit of a trick, we can study the evolution of such a
communication system using the same protocol as in the first part of
this assignment. The $S$ and $R$ matrices of an individual are uniquely
defined by 18 numbers. Assume that we model this by saying that every
individual is characterized by a genome of length 18, where each
nucleotide codes for one value in S and R. Let's say $A=3, G=2, C=1$ and
$U=0$. To construct the S and R matrices, we put the numbers corresponding
to the nucleotides in two matrices and normalise the rows, such that the
probabilities add up to 1.

\begin{exercise}
\ask What would a genome corresponding to the S and R matrix depicted above look like?
\ask Can you think of two strings that have a different genotype but the same phenotype?
\end{exercise}

Of course our previous fitness function --- the count of the substring
``CAC'' --- does not make much sense in this case. We will have to define
a new one. We can compute the chance of successful communication between
two agents by summing up the chance of success for each individual
meaning-signal combination. For instance, let's assume the sender wants
to convey the meaning ``leopard''. We multiply the probabilities for all
signals the sender could use for this meaning (the row in $S$ starting
with ``leopard'') with the chance that the receiver will interpret this
signal as having the meaning ``leopard'' (the ``leopard'' column in
$R$). In this case as the sender only uses the signal chirp to express
the meaning leopard, and the receiver interprets this signal as having
the meaning leopard with probability 1, the chance of successfully
conveying the meaning ``leopard'' in this system is 1. Due to the fact
that agents have both a sender and receiver matrix, it is possible that
the communication in one direction runs flawlessly, but any
communication in the other direction is unsuccesfull. We define the
fitness as the sum of the chances of success for all meanings in both
directions.


\begin{exercise}
 \ask Is it possible to compute the fitness of one individual without taking into account who he is communicating with? Why (not)?
 \end{exercise}

We implemented some fitness functions that you can find in the file
\texttt{auxiliary\_functions.R}:

\begin{itemize}
\item \texttt{CAC\_count}: This is the fitness function you used before, that counts the number of occurrences of the substring "CAC" in the genome;
\item \texttt{communication\_fixed\_target}: This fitness function captures how well the population member can communicate with a fixed target with S and R matrices that allow perfect communication (i.e., this other population member does not use the same signal for different meanings, or assign different meanings to the same signal).
\item \texttt{communication\_random\_target}: This fitness function describes the more realistic situation, in which the fitness of a population member is determined based on its communication with a random other member of the population.
\end{itemize}

\begin{exercise}
\action Load the auxiliary functions library by typing 
\begin{lstlisting}
source('auxiliary_functions.R')
\end{lstlisting}
in the terminal. Leave the file \texttt{auxiliary\_functions.R} untouched, you don't have to change anything there.
\end{exercise}

You can change the fitness function - like the rest of the parameters -
at the top of the file \texttt{lab-2.R}, by uncommenting the line with
the preferred fitness function (and commenting out all other fitness
function lines). As you may have guessed, you can (un)comment a line in
an R script by placing (removing) a `\#' at the beginning.

\begin{exercise}
\ask What is the maximal fitness that an individual can have?
\action Change the fitness function in the script to \texttt{communication\_fixed\_target}. Run an evolutionary simulation with a low mutation rate for 100 iterations. What is the average fitness and most frequent communication system at the end of it? You can check the population at the end by typing \texttt{population} in your command line.
\ask Can the members of the resulting population also communicate with each other or only with the preset fixed target?
\ask What would happen if the target was fixed, but not perfect? You can test your assumption by changing the target matrices in the \texttt{auxiliary\_functions file}. 
\end{exercise}

A more realistic situation is the one in which the members of the
population do not all communicate with the same fixed target, but with
other members of the population, that have their own (evolved) S and R
matrix.

\begin{exercise}
\action Run some evolutionary simulations for this scenario (compute the fitness by using the function \texttt{communication\_random\_target}). What is the average fitness and most frequent communication system at the end of it? Experiment with the learning rate.
\askstar This is frequency dependent selection. Why does it not always evolve to the optimal communication system?
\askstar What do you expect to happen if only successfully \textit{receiving} but not \textit{sending} contributes to fitness?
\action Test your assumption by using the fitness function \texttt{sending\_random\_target}. 
\end{exercise}

\printbibliography

\end{document}

